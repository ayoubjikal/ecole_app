<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head th:replace="~{fragments/layout :: head('Détails de l\'école')}">
    <title>Détails de l'école</title>
</head>
<body>
<header th:replace="~{fragments/layout :: header}"></header>

<main class="container my-4">
    <div class="details-header mb-4">
        <h1 class="details-title">
            <i class="fas fa-school text-primary me-2"></i>
            <span th:text="${ecole.etablissement}"></span>
        </h1>
        <div class="details-actions">
            <a href="/ecoles" class="btn btn-outline-secondary me-2">
                <i class="fas fa-arrow-left me-2"></i> Retour
            </a>
            <a th:href="@{/ecoles/edit/{id}(id=${ecole.etablissement})}" class="btn btn-primary me-2">
                <i class="fas fa-edit me-2"></i> Modifier
            </a>
            <a th:href="@{/equipements/etablissement/{id}(id=${ecole.etablissement})}" class="btn btn-success">
                <i class="fas fa-boxes me-2"></i> Équipements
            </a>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <div class="card shadow-sm mb-4">
                <div class="card-header">
                    <h2 class="h5 mb-0">
                        <i class="fas fa-info-circle me-2"></i> Informations générales
                    </h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <span class="details-label">Établissement:</span>
                            <p class="mb-0" th:text="${ecole.etablissement}"></p>
                        </div>
                        <div class="col-md-6 mb-3">
                            <span class="details-label">Académie:</span>
                            <p class="mb-0" th:text="${ecole.academie != null ? ecole.academie : 'Non spécifié'}"></p>
                        </div>
                        <div class="col-md-6 mb-3">
                            <span class="details-label">Direction:</span>
                            <p class="mb-0" th:text="${ecole.direction != null ? ecole.direction : 'Non spécifié'}"></p>
                        </div>
                        <div class="col-md-6 mb-3">
                            <span class="details-label">Commune:</span>
                            <p class="mb-0" th:text="${ecole.commune != null ? ecole.commune : 'Non spécifié'}"></p>
                        </div>
                        <div class="col-md-6 mb-3">
                            <span class="details-label">Numéro de compte:</span>
                            <p class="mb-0" th:text="${ecole.numeroDeCompte != null ? ecole.numeroDeCompte : 'Non spécifié'}"></p>
                        </div>
                        <div class="col-md-6 mb-3">
                            <span class="details-label">Date de fondation:</span>
                            <p class="mb-0" th:text="${ecole.dateDeFondationOuRenouvellement != null ? #dates.format(ecole.dateDeFondationOuRenouvellement, 'dd/MM/yyyy') : 'Non spécifié'}"></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm mb-4">
                <div class="card-header">
                    <h2 class="h5 mb-0">
                        <i class="fas fa-users me-2"></i> Responsables
                    </h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <span class="details-label">Président:</span>
                            <p class="mb-0" th:text="${ecole.nomDuPresident != null ? ecole.nomDuPresident : 'Non spécifié'}"></p>
                        </div>
                        <div class="col-md-6 mb-3">
                            <span class="details-label">Trésorier:</span>
                            <p class="mb-0" th:text="${ecole.nomDuTresorier != null ? ecole.nomDuTresorier : 'Non spécifié'}"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="card shadow-sm mb-4">
                <div class="card-header">
                    <h2 class="h5 mb-0">
                        <i class="fas fa-map-marker-alt me-2"></i> Coordonnées
                    </h2>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <span class="details-label">Adresse:</span>
                        <p class="mb-0" th:text="${ecole.adresse != null ? ecole.adresse : 'Non spécifié'}"></p>
                    </div>
                    <div class="mb-0">
                        <span class="details-label">Téléphone:</span>
                        <p class="mb-0" th:text="${ecole.telephone != null ? ecole.telephone : 'Non spécifié'}"></p>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm">
                <div class="card-header">
                    <h2 class="h5 mb-0">
                        <i class="fas fa-boxes me-2"></i> Équipements
                    </h2>
                </div>
                <div class="card-body">
                    <!-- Removed references to equipments property that doesn't exist -->
                    <p class="mb-0">
                        Cliquez ci-dessous pour voir les équipements associés à cette école.
                    </p>
                    <div class="d-grid mt-3">
                        <a th:href="@{/equipements/etablissement/{id}(id=${ecole.etablissement})}" class="btn btn-outline-primary">
                            <i class="fas fa-eye me-2"></i> Voir les équipements
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer th:replace="~{fragments/layout :: footer}"></footer>
</body>
</html>